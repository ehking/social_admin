{% extends "base.html" %}
{% block title %}حساب‌ها | Social Admin{% endblock %}
{% block page_title %}مدیریت حساب‌های متصل{% endblock %}
{% block page_subtitle %}حساب‌های شبکه‌های اجتماعی را اضافه، ویرایش و حذف کنید{% endblock %}
{% block content %}
<section class="panel">
    <header class="panel-header">
        <div>
            <h2>لیست حساب‌ها</h2>
            <p class="panel-description">حساب‌های ثبت‌شده برای ارسال خودکار محتوا</p>
        </div>
        <a class="btn" href="/accounts/new">افزودن حساب جدید</a>
    </header>
    {% if accounts %}
        <div class="table-wrapper">
            <table>
                <thead>
                    <tr>
                        <th>نام نمایشی</th>
                        <th>پلتفرم</th>
                        <th>شناسه صفحه</th>
                        <th>شناسه تلگرام</th>
                        <th>تاریخ ایجاد</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    {% for account in accounts %}
                        <tr>
                            <td>{{ account.display_name }}</td>
                            <td>{{ account.platform }}</td>
                            <td>{{ account.page_id or '-' }}</td>
                            <td>{{ account.telegram_chat_id or '-' }}</td>
                            <td>{{ account.created_at.strftime('%Y-%m-%d %H:%M') if account.created_at else '' }}</td>
                            <td class="actions">
                                <a class="btn btn-small" href="/accounts/{{ account.id }}">ویرایش</a>
                                <form method="post" action="/accounts/delete" onsubmit="return confirm('آیا از حذف این حساب مطمئن هستید؟');">
                                    <input type="hidden" name="account_id" value="{{ account.id }}">
                                    <button type="submit" class="btn btn-small btn-danger">حذف</button>
                                </form>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <p class="empty">حسابی برای نمایش وجود ندارد. اولین حساب خود را اضافه کنید.</p>
    {% endif %}
</section>
{% endblock %}
